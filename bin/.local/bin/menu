#!/bin/sh

OPTIONS="LAUNCH\nOUTPUT\nPOWER"
ANSWER=$(echo "$OPTIONS" | dmenu)

LAUNCH() {
    exec dmenu_run
}

OUTPUT() {
    OPTIONS="DATE\nPACKAGES"
    ANSWER=$(echo "$OPTIONS" | dmenu)

    DATE() { date '+%a %d %b' | tr "[:lower:]" "[:upper:]"; }
    PACKAGES() { echo "INSTALLED PACKAGES: $(xbps-query -l | wc -l)"; }

    notify-send "$($ANSWER)"
}

POWER() {
    OPTIONS="LOG OFF\nSHUTDOWN\nREBOOT"
    case $(echo "$OPTIONS" | dmenu) in
        "LOG OFF")
            bspc quit
            ;;
        "SHUTDOWN")
            sudo poweroff
            ;;
        "REBOOT")
            sudo reboot
            ;;
    esac
}

$ANSWER
